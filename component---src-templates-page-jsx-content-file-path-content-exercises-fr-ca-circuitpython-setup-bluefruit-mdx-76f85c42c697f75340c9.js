"use strict";(self.webpackChunk_morgan_stanley_makerspace=self.webpackChunk_morgan_stanley_makerspace||[]).push([[1965],{7660:function(e,a,t){t.r(a),t.d(a,{Head:function(){return h},default:function(){return p}});var n=t(8453),r=t(6540);function i(e){const a=Object.assign({h2:"h2",a:"a",span:"span",p:"p",h3:"h3",em:"em",ul:"ul",li:"li"},(0,n.RP)(),e.components);return r.createElement(r.Fragment,null,r.createElement(a.h2,{id:"commencez-ici",style:{position:"relative"}},r.createElement(a.a,{href:"#commencez-ici","aria-label":"commencez ici permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Commencez ici"),"\n",r.createElement(a.p,null,"Un guide pour configurer le Adafruit Circuit Playground Bluefruit pour notre programme."),"\n",r.createElement(a.h3,{id:"quest-ce-que-le-circuit-playground-bluefruit-",style:{position:"relative"}},r.createElement(a.a,{href:"#quest-ce-que-le-circuit-playground-bluefruit-","aria-label":"quest ce que le circuit playground bluefruit  permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Qu’est-ce que le Circuit Playground Bluefruit ?"),"\n",r.createElement(a.p,null,"Le Circuit Playground Bluefruit est très similaire au Circuit Playground Express, sauf qu’il prend en charge le Bluetooth Low Energy au lieu de l’infrarouge (IR) !"),"\n",r.createElement(a.p,null,"Adafruit propose également une application gratuite sur ",r.createElement(a.a,{href:"https://apps.apple.com/us/app/bluefruit-connect/id830125974"},"iOS")," et ",r.createElement(a.a,{href:"https://play.google.com/store/apps/details?id=com.adafruit.bluefruit.le.connect"},"Android")," pour interagir avec l’appareil via Bluetooth."),"\n",r.createElement(a.h3,{id:"vérification-du-bootloader",style:{position:"relative"}},r.createElement(a.a,{href:"#v%C3%A9rification-du-bootloader","aria-label":"vérification du bootloader permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Vérification du Bootloader"),"\n",r.createElement(a.p,null,r.createElement(a.a,{href:"https://circuitpython.org/"},"CircuitPython.org")," fournit des fichiers .uf2 qui facilitent l’installation de CircuitPython sur l’appareil. Cependant, les appareils Bluefruit peuvent être livrés avec un bootloader beaucoup plus ancien. Par exemple, si vous exécutez ceci :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">cat</span> /media/pi/CPLAYBTBOOT/INFO_UF2.TXT\nUF2 Bootloader <span class="token number">0.2</span>.9 lib/nrfx <span class="token punctuation">(</span>v1.1.0-1-g096e770<span class="token punctuation">)</span> lib/tinyusb <span class="token punctuation">(</span>legacy-755-g55874813<span class="token punctuation">)</span> s140 <span class="token number">6.1</span>.1\nModel: Adafruit Feather nRF52840 Express\nBoard-ID: nRF52840-Feather-revD\nBootloader: s140 <span class="token number">6.1</span>.1\nDate: Feb <span class="token number">22</span> <span class="token number">2019</span></code></pre></div>'}}),"\n",r.createElement(a.p,null,"Notez que le bootloader UF2 est antérieur à la version 0.4.0, qui est la version minimale requise pour utiliser les fichiers .uf2 pour installer CircuitPython. Mettons-le donc à jour."),"\n",r.createElement(a.h3,{id:"mise-à-jour-du-bootloader",style:{position:"relative"}},r.createElement(a.a,{href:"#mise-%C3%A0-jour-du-bootloader","aria-label":"mise à jour du bootloader permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Mise à jour du Bootloader"),"\n",r.createElement(a.p,null,r.createElement(a.em,null,"Veuillez noter que cette étape n’est pas nécessaire si le bootloader est en version 0.4.0 ou plus récente ! (voir ci-dessus)")),"\n",r.createElement(a.p,null,"Trouvez la dernière version du bootloader .zip ",r.createElement(a.a,{href:"https://github.com/adafruit/Adafruit_nRF52_Bootloader/releases"},"ici")," et téléchargez la dernière version, spécifiquement un fichier nommé :\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">circuitplayground_nrf52840_bootloader-0.8.2_s140_6.1.1.zip</code>'}})," (ou la dernière version)."),"\n",r.createElement(a.p,null,"Pour flasher cela sur l’appareil, utilisez ",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">adafruit-nrfutil</code>'}}),". Vous pouvez l’installer via ",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">pip3 install --user adafruit-nrfutil</code>'}}),"."),"\n",r.createElement(a.p,null,"À partir de là, vous pouvez mettre à jour le firmware avec le bootloader mis à jour :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">adafruit-nrfutil <span class="token parameter variable">--verbose</span> dfu serial <span class="token parameter variable">--package</span> /home/pi/Downloads/circuitplayground_nrf52840_bootloader-0.8.3_s140_6.1.1.zip <span class="token punctuation">\\</span>\n  <span class="token parameter variable">-p</span> /dev/ttyACM0 <span class="token parameter variable">-b</span> <span class="token number">115200</span> <span class="token parameter variable">--singlebank</span> <span class="token parameter variable">--touch</span> <span class="token number">1200</span></code></pre></div>'}}),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">Touched serial port /dev/ttyACM0\nOpened serial port /dev/ttyACM0\nStarting DFU upgrade of type 3, SoftDevice size: 151016, bootloader size: 39000, application size: 0\nSending DFU start packet\nSending DFU init packet\nSending firmware file\n########################################\nActivating new firmware\n\nDFU upgrade took 20.90584897994995s\nDevice programmed.</code></pre></div>'}}),"\n",r.createElement(a.p,null,"Les 10 neopixels devraient montrer du vert et le volume CPLAYBTBOOT devrait être de retour."),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">cat</span> /media/pi/CPLAYBTBOOT/INFO_UF2.TXT\nUF2 Bootloader <span class="token number">0.8</span>.3 lib/nrfx <span class="token punctuation">(</span>v2.0.0<span class="token punctuation">)</span> lib/tinyusb <span class="token punctuation">(</span><span class="token number">0.12</span>.0-145-g9775e7691<span class="token punctuation">)</span> lib/uf2 <span class="token punctuation">(</span>remotes/origin/configupdate-9-gadbb8c7<span class="token punctuation">)</span></code></pre></div>'}}),"\n",r.createElement(a.h3,{id:"installation-de-circuitpython-sur-lappareil",style:{position:"relative"}},r.createElement(a.a,{href:"#installation-de-circuitpython-sur-lappareil","aria-label":"installation de circuitpython sur lappareil permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Installation de CircuitPython sur l’appareil"),"\n",r.createElement(a.p,null,"Téléchargeons maintenant le fichier UF2 de circuitpython depuis le ",r.createElement(a.a,{href:"https://circuitpython.org/board/circuitplayground_bluefruit/"},"site de téléchargement de CircuitPython pour BlueFruit"),"."),"\n",r.createElement(a.p,null,"Vous pouvez le glisser ou le copier sur le volume comme indiqué ci-dessous :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">cp</span> adafruit-circuitpython-circuitplayground_bluefruit-en_US-8.2.9.uf2 /media/pi/CPLAYBTBOOT/</code></pre></div>'}}),"\n",r.createElement(a.p,null,"Les 10 neopixels devraient devenir rouges et la LED rouge pulsera légèrement."),"\n",r.createElement(a.p,null,"Vous devriez maintenant voir un lecteur ",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">CIRCUITPY</code>'}}),", ce qui signifie que nous avons installé CircuitPython ! La dernière chose que nous devons faire est d’installer les bibliothèques python.\nCelles-ci se trouvent ici dans circuitpython :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">ls</span> /media/pi/CIRCUITPY/lib\n<span class="token punctuation">(</span>no output<span class="token operator">!</span><span class="token punctuation">)</span></code></pre></div>'}}),"\n",r.createElement(a.p,null,"Pour installer les bibliothèques, nous utiliserons un outil adafruit appelé ",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<code class="language-text">circup</code>'}})," qui fonctionne de manière similaire à pip de python, sauf pour CircuitPython :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ pip3 <span class="token function">install</span> <span class="token parameter variable">--user</span> circup</code></pre></div>'}}),"\n",r.createElement(a.p,null,"Téléchargeons la liste des bibliothèques requises depuis ",r.createElement(a.a,{href:"https://github.com/morganstanley/makerspace/blob/main/code/Level%202%20-%20Intro%20to%20Programming/circup_libs_robotics.txt"},"ici"),"."),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:"<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ circup install -r ~/Downloads/circup_libs_robotics_02_08_24.txt\nFound device at /media/pi/CIRCUITPY, running CircuitPython 8.2.9.\nSearching for dependencies for: ['adafruit_ble', 'adafruit_bluefruit_connect', 'adafruit_bus_device', 'adafruit_circuitplayground', 'adafruit_crickit', 'adafruit_gizmo', 'adafruit_hid', 'adafruit_lis3dh', 'adafruit_motor', 'adafruit_pixelbuf', 'adafruit_seesaw', 'adafruit_thermistor', 'found device at /media/pi/circuitpy, running circuitpython 8.2.9.', 'neopixel']\nWARNING:\n    found device at /media/pi/circuitpy, running circuitpython 8.2.9. is not a known CircuitPython library.\nWARNING:\n    typing-extensions is not a known CircuitPython library.\nWARNING:\n    typing-extensions is not a known CircuitPython library.\nReady to install: ['adafruit_ble', 'adafruit_bluefruit_connect', 'adafruit_bus_device', 'adafruit_circuitplayground', 'adafruit_crickit', 'adafruit_gizmo', 'adafruit_hid', 'adafruit_il0373', 'adafruit_lis3dh', 'adafruit_motor', 'adafruit_pixelbuf', 'adafruit_seesaw', 'adafruit_ssd1681', 'adafruit_st7789', 'adafruit_thermistor', 'neopixel']\n\nInstalled 'adafruit_ble'.\nInstalled 'adafruit_bluefruit_connect'.\nInstalled 'adafruit_bus_device'.\nInstalled 'adafruit_circuitplayground'.\nInstalled 'adafruit_crickit'.\nInstalled 'adafruit_gizmo'.\nInstalled 'adafruit_hid'.\nInstalled 'adafruit_il0373'.\nInstalled 'adafruit_lis3dh'.\nInstalled 'adafruit_motor'.\nInstalled 'adafruit_pixelbuf'.\nInstalled 'adafruit_seesaw'.\nInstalled 'adafruit_ssd1681'.\nInstalled 'adafruit_st7789'.\nInstalled 'adafruit_thermistor'.\nInstalled 'neopixel'.</code></pre></div>"}}),"\n",r.createElement(a.p,null,"Vérifions maintenant ce répertoire :"),"\n",r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">$ <span class="token function">ls</span> /media/pi/CIRCUITPY/lib\nadafruit_ble               adafruit_crickit.mpy       adafruit_lis3dh.mpy        adafruit_ssd1681.mpy\nadafruit_bluefruit_connect adafruit_gizmo             adafruit_motor             adafruit_st7789.mpy\nadafruit_bus_device        adafruit_hid               adafruit_pixelbuf.mpy      adafruit_thermistor.mpy\nadafruit_circuitplayground adafruit_il0373.mpy        adafruit_seesaw            neopixel.mpy</code></pre></div>'}}),"\n",r.createElement(a.p,null,"Excellent ! Nos bibliothèques sont installées et nous sommes prêts à coder. Vous pouvez suivre ce flux pour installer d’autres\nbibliothèques CircuitPython dont vous pourriez avoir besoin lors de l’ajout d’autres composants au robot."),"\n",r.createElement(a.h3,{id:"références-",style:{position:"relative"}},r.createElement(a.a,{href:"#r%C3%A9f%C3%A9rences-","aria-label":"références  permalink",className:"anchor before"},r.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg>'}})),"Références :"),"\n",r.createElement(a.ul,null,"\n",r.createElement(a.li,null,r.createElement(a.a,{href:"https://learn.adafruit.com/adafruit-circuit-playground-bluefruit/overview"},"https://learn.adafruit.com/adafruit-circuit-playground-bluefruit/overview")),"\n",r.createElement(a.li,null,r.createElement(a.a,{href:"https://learn.adafruit.com/adafruit-circuit-playground-bluefruit/update-bootloader"},"https://learn.adafruit.com/adafruit-circuit-playground-bluefruit/update-bootloader")),"\n",r.createElement(a.li,null,r.createElement(a.a,{href:"https://learn.adafruit.com/circuitpython-nrf52840/bluefruit-le-connect-basics"},"https://learn.adafruit.com/circuitpython-nrf52840/bluefruit-le-connect-basics")),"\n",r.createElement(a.li,null,r.createElement(a.a,{href:"https://github.com/adafruit/circup"},"https://github.com/adafruit/circup")),"\n"))}var l=function(e){void 0===e&&(e={});const{wrapper:a}=Object.assign({},(0,n.RP)(),e.components);return a?r.createElement(a,e,r.createElement(i,e)):i(e)},s=t(2532),u=t(7203),o=t(9975),c=t(8509);const d=e=>{let{children:a,pageContext:t,location:n}=e;const i=t.frontmatter.title,l=t.frontmatter.subtitle?t.frontmatter.subtitle:"",c=(0,s.c)(t.frontmatter.heroImage);return r.createElement(o.A,{location:n},r.createElement(s.G,{image:c,alt:""}),r.createElement(u.A,{title:i,subtitle:l}),r.createElement("div",{className:"content"},a))};function p(e){return r.createElement(d,e,r.createElement(l,e))}const h=e=>{let{pageContext:a}=e;return r.createElement(c.A,{title:a.frontmatter.title},r.createElement("meta",{name:"description",content:null==a?void 0:a.description}))}}}]);
//# sourceMappingURL=component---src-templates-page-jsx-content-file-path-content-exercises-fr-ca-circuitpython-setup-bluefruit-mdx-76f85c42c697f75340c9.js.map